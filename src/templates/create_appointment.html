{% extends 'base.html' %}

{% block content %}

<div class="container mt-4">
     <!-- Progress Bar -->
     <div class="progress mb-4" role="progressbar" aria-label="Default striped example" aria-valuenow="67" aria-valuemin="0" aria-valuemax="100">
          <div class="progress-bar progress-bar-striped bg-info" style="width: 66.6%">66.6%</div>
     </div>
     
     <!-- Flash Messages -->
     {% for message in get_flashed_messages() %}
     <div class="alert alert-warning alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
               <span aria-hidden="true">&times;</span>
          </button>
     </div>
     {% endfor %}
     
     <!-- Appointment Form -->
     <div class="card shadow-sm mb-4">
         <div class="card-header bg-primary text-white">
             <h5>3. Create Appointment </h5>
         </div>
         <div class="card-body">
             <form method="POST" action="{{ url_for('main.create_new_appointment', business_id=request.args.get('business_id'), patient_id=request.args.get('patient_id')) }}">
                 {{ form.hidden_tag() }}
                 <div class="row mb-3">
                    <div class="col-md-6">
                        {{ form.date.label(class="form-label") }}
                        {{ form.date(class="form-control") }}
                    </div>
                    <div class="col-md-6">
                        {{ form.time.label(class="form-label") }}
                        {{ form.time(class="form-control") }}
                    </div>
                </div>
                
                 <button type="submit" class="btn btn-primary">Create Appointment</button>
             </form>
         </div>
     </div>

<!-- Card for Business Details -->
<div class="card shadow-sm mb-4">
     <div class="card-header d-flex align-items-center justify-content-between bg-secondary text-white">
         <div>
             <h5 class="mb-0">Business Details</h5>
         </div>
     </div>
     <div class="card-body">
         <div class="detail-item mb-2">
             <span class="detail-label font-weight-bold text-right mr-2" style="width: 100px;">Business Name:</span>
             <span class="detail-value">{{ business.name }}</span>
         </div>
         <div class="detail-item mb-2">
             <span class="detail-label font-weight-bold text-right mr-2" style="width: 100px;">Phone:</span>
             <span class="detail-value">{{ business.phone }}</span>
         </div>
     </div>
 </div>
 
 <!-- Card for Patient Details -->
 <div class="card shadow-sm mb-4">
     <div class="card-header bg-secondary text-white">
         <h5 class="mb-0">Patient Details</h5>
     </div>
     <div class="card-body">
         <div class="detail-item mb-2">
             <span class="detail-label font-weight-bold mr-2" style="width: 100px;">Surname:</span>
             <span class="detail-value">{{ patient.last_name }}</span>
         </div>
         <div class="detail-item mb-2">
             <span class="detail-label font-weight-bold mr-2" style="width: 100px;">First Name:</span>
             <span class="detail-value">{{ patient.first_name }}</span>
         </div>
         <div class="detail-item mb-2">
             <span class="detail-label font-weight-bold mr-2" style="width: 100px;">Phone:</span>
             <span class="detail-value">{{ patient.phone }}</span>
         </div>
     </div>
 </div>
 
 
 


</div>

{% endblock %}
