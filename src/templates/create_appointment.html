{% extends 'base.html' %}

{% block content %}

     <div class="progress" role="progressbar" aria-label="Default striped example" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">
          <div class="progress-bar progress-bar-striped" style="width: 67%">66.6%</div>
     </div>
     <br/>

     {% for message in get_flashed_messages() %}
          <div class="alert alert-warning alert-dismissible fade show" role="alert">
               {{message}}
               <button type="button" class="close" data-dismiss="alert" aria-label="Close">
               <span aria-hidden="true">&times;</span>
               </button>
          </div>
     {% endfor %}

     <h1>3. Create Appointment</h1>
     <br>
          <div class="row mb-2">
              <div class="col-2 text-right font-weight-bold">Surname:</div>
              <div class="col-8 text-left">{{ patient.last_name }}</div>
          </div>
          <div class="row mb-2">
              <div class="col-2 text-right font-weight-bold">First name:</div>
              <div class="col-8 text-left">{{ patient.first_name }}</div>
          </div>
          <div class="row mb-2">
              <div class="col-2 text-right font-weight-bold">Phone:</div>
              <div class="col-8 text-left">{{ patient.phone }}</div>
          </div>
     <br>

     <h5>Enter Appointment Details</h5>
     <!-- retain the query params when posting -->
     <form method="POST" action="{{ url_for('main.create_new_appointment', business_id=request.args.get('business_id'), patient_id=request.args.get('patient_id')) }}">
          {{form.hidden_tag()}}
          {{ form.time.label(class="form-label") }} 
          {{ form.time(class="form-control") }}
          {{ form.date.label(class="form-label") }} 
          {{ form.date(class="form-control") }}
          <br>
          {{ form.create(class="btn btn-primary") }}
     </form>


{% endblock %}